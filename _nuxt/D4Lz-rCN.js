import{z as q,A as $,B as X,C as Y,D as Z,E as F,F as ee,G as te,H as ne,I,J as ae}from"./2cAMmKoA.js";import{e as N,r as P,f as R,G,a8 as K,s as j,aq as A,u as oe,j as se,as as re,k as ie}from"./BN0B7Lbi.js";const x=Z?window:void 0;function Q(e){var o;const a=A(e);return(o=a==null?void 0:a.$el)!=null?o:a}function B(...e){const o=[],a=()=>{o.forEach(t=>t()),o.length=0},f=(t,s,i,m)=>(t.addEventListener(s,i,m),()=>t.removeEventListener(s,i,m)),r=N(()=>{const t=F(A(e[0])).filter(s=>s!=null);return t.every(s=>typeof s!="string")?t:void 0}),y=ee(()=>{var t,s;return[(s=(t=r.value)==null?void 0:t.map(i=>Q(i)))!=null?s:[x].filter(i=>i!=null),F(A(r.value?e[1]:e[0])),F(oe(r.value?e[2]:e[1])),A(r.value?e[3]:e[2])]},([t,s,i,m])=>{if(a(),!(t!=null&&t.length)||!(s!=null&&s.length)||!(i!=null&&i.length))return;const g=ne(m)?{...m}:m;o.push(...t.flatMap(C=>s.flatMap(l=>i.map(u=>f(C,l,u,g)))))},{flush:"post"}),c=()=>{y(),a()};return te(a),c}function le(){const e=j(!1),o=K();return o&&ie(()=>{e.value=!0},o),e}function ue(e){const o=le();return N(()=>(o.value,!!e()))}const ce=Symbol("vueuse-ssr-width");function de(){const e=re()?ae(ce,null):null;return typeof e=="number"?e:void 0}function fe(e,o={}){const{window:a=x,ssrWidth:f=de()}=o,r=ue(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function"),y=j(typeof f=="number"),c=j(),t=j(!1),s=i=>{t.value=i.matches};return se(()=>{if(y.value){y.value=!r.value;const i=A(e).split(",");t.value=i.some(m=>{const g=m.includes("not all"),C=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),l=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let u=!!(C||l);return C&&u&&(u=f>=I(C[1])),l&&u&&(u=f<=I(l[1])),g?!u:u});return}r.value&&(c.value=a.matchMedia(A(e)),t.value=c.value.matches)}),B(c,"change",s,{passive:!0}),N(()=>t.value)}function me(e){return JSON.parse(JSON.stringify(e))}const J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__vueuse_ssr_handlers__",ve=pe();function pe(){return L in J||(J[L]=J[L]||{}),J[L]}function U(e,o){return ve[e]||o}function he(e){return fe("(prefers-color-scheme: dark)",e)}function ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function Se(e,o,a,f={}){var r;const{flush:y="pre",deep:c=!0,listenToStorageChanges:t=!0,writeDefaults:s=!0,mergeDefaults:i=!1,shallow:m,window:g=x,eventFilter:C,onError:l=n=>{console.error(n)},initOnMounted:u}=f,v=(m?j:P)(typeof o=="function"?o():o),S=N(()=>A(e));if(!a)try{a=U("getDefaultStorage",()=>{var n;return(n=x)==null?void 0:n.localStorage})()}catch(n){l(n)}if(!a)return v;const w=A(o),O=ge(w),d=(r=f.serializer)!=null?r:ye[O],{pause:p,resume:b}=Y(v,()=>D(v.value),{flush:y,deep:c,eventFilter:C});R(S,()=>k(),{flush:y});let E=!1;const _=n=>{u&&!E||k(n)},W=n=>{u&&!E||V(n)};g&&t&&(a instanceof Storage?B(g,"storage",_,{passive:!0}):B(g,H,W)),u?$(()=>{E=!0,k()}):k();function z(n,h){if(g){const M={key:S.value,oldValue:n,newValue:h,storageArea:a};g.dispatchEvent(a instanceof Storage?new StorageEvent("storage",M):new CustomEvent(H,{detail:M}))}}function D(n){try{const h=a.getItem(S.value);if(n==null)z(h,null),a.removeItem(S.value);else{const M=d.write(n);h!==M&&(a.setItem(S.value,M),z(h,M))}}catch(h){l(h)}}function T(n){const h=n?n.newValue:a.getItem(S.value);if(h==null)return s&&w!=null&&a.setItem(S.value,d.write(w)),w;if(!n&&i){const M=d.read(h);return typeof i=="function"?i(M,w):O==="object"&&!Array.isArray(M)?{...w,...M}:M}else return typeof h!="string"?h:d.read(h)}function k(n){if(!(n&&n.storageArea!==a)){if(n&&n.key==null){v.value=w;return}if(!(n&&n.key!==S.value)){p();try{(n==null?void 0:n.newValue)!==d.write(v.value)&&(v.value=T(n))}catch(h){l(h)}finally{n?G(b):b()}}}}function V(n){k(n.detail)}return v}const we="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function be(e={}){const{selector:o="html",attribute:a="class",initialValue:f="auto",window:r=x,storage:y,storageKey:c="vueuse-color-scheme",listenToStorageChanges:t=!0,storageRef:s,emitAuto:i,disableTransition:m=!0}=e,g={auto:"",light:"light",dark:"dark",...e.modes||{}},C=he({window:r}),l=N(()=>C.value?"dark":"light"),u=s||(c==null?q(f):Se(c,f,y,{window:r,listenToStorageChanges:t})),v=N(()=>u.value==="auto"?l.value:u.value),S=U("updateHTMLAttrs",(p,b,E)=>{const _=typeof p=="string"?r==null?void 0:r.document.querySelector(p):Q(p);if(!_)return;const W=new Set,z=new Set;let D=null;if(b==="class"){const k=E.split(/\s/g);Object.values(g).flatMap(V=>(V||"").split(/\s/g)).filter(Boolean).forEach(V=>{k.includes(V)?W.add(V):z.add(V)})}else D={key:b,value:E};if(W.size===0&&z.size===0&&D===null)return;let T;m&&(T=r.document.createElement("style"),T.appendChild(document.createTextNode(we)),r.document.head.appendChild(T));for(const k of W)_.classList.add(k);for(const k of z)_.classList.remove(k);D&&_.setAttribute(D.key,D.value),m&&(r.getComputedStyle(T).opacity,document.head.removeChild(T))});function w(p){var b;S(o,a,(b=g[p])!=null?b:p)}function O(p){e.onChanged?e.onChanged(p,w):w(p)}R(v,O,{flush:"post",immediate:!0}),$(()=>O(v.value));const d=N({get(){return i?u.value:v.value},set(p){u.value=p}});return Object.assign(d,{store:u,system:l,state:v})}function ke(e={}){const{valueDark:o="dark",valueLight:a=""}=e,f=be({...e,onChanged:(c,t)=>{var s;e.onChanged?(s=e.onChanged)==null||s.call(e,c==="dark",t,c):t(c)},modes:{dark:o,light:a}}),r=N(()=>f.system.value);return N({get(){return f.value==="dark"},set(c){const t=c?"dark":"light";r.value===t?f.value="auto":f.value=t}})}function Me(e,o,a,f={}){var r,y,c;const{clone:t=!1,passive:s=!1,eventName:i,deep:m=!1,defaultValue:g,shouldEmit:C}=f,l=K(),u=a||(l==null?void 0:l.emit)||((r=l==null?void 0:l.$emit)==null?void 0:r.bind(l))||((c=(y=l==null?void 0:l.proxy)==null?void 0:y.$emit)==null?void 0:c.bind(l==null?void 0:l.proxy));let v=i;v=v||`update:${o.toString()}`;const S=d=>t?typeof t=="function"?t(d):me(d):d,w=()=>X(e[o])?S(e[o]):g,O=d=>{C?C(d)&&u(v,d):u(v,d)};if(s){const d=w(),p=P(d);let b=!1;return R(()=>e[o],E=>{b||(b=!0,p.value=S(E),G(()=>b=!1))}),R(p,E=>{!b&&(E!==e[o]||m)&&O(E)},{deep:m}),p}else return N({get(){return w()},set(d){O(d)}})}export{Me as a,ke as u};
