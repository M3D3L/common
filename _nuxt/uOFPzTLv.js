import{l as Q,e as T,r as B,k as de,o as r,m as I,w as n,b as l,u as e,D as re,p as K,q as $,C as ue,O as me,U as pe,W,c as f,a as t,S as v,d as i,Q as w,R as C,t as E}from"./BN0B7Lbi.js";import{u as ce}from"./D-Ko8XmK.js";import{u as fe}from"./Ag6tYbTR.js";import{_ as L}from"./-fhrnqg4.js";import{_ as P}from"./Bo3vZDjX.js";import{_ as c,a as g}from"./CJ-ODxMr.js";import{_ as N}from"./DibUkQ0l.js";import{i as ge,m as ve,a as ye,_ as _e,b as Ve,c as G}from"./BmOrykka.js";import{a as be,P as Ee}from"./2cAMmKoA.js";import{P as xe}from"./4NRGWUlF.js";import{_ as U,T as ke}from"./DtqDiU_0.js";import"./D4Lz-rCN.js";import"./CMoDqHQN.js";import"./DJUxloUB.js";var we=Q({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(R){const k=R,{forwardRef:z}=be(),b=ge(),M=T(()=>ve(b.baseId,k.value)),F=T(()=>ye(b.baseId,k.value)),S=T(()=>k.value===b.modelValue.value),j=B(S.value);return de(()=>{requestAnimationFrame(()=>{j.value=!1})}),(_,a)=>(r(),I(e(xe),{present:_.forceMount||S.value,"force-mount":""},{default:n(({present:m})=>[l(e(Ee),{id:F.value,ref:e(z),"as-child":_.asChild,as:_.as,role:"tabpanel","data-state":S.value?"active":"inactive","data-orientation":e(b).orientation.value,"aria-labelledby":M.value,hidden:!m,tabindex:"0",style:re({animationDuration:j.value?"0s":void 0})},{default:n(()=>[!e(b).unmountOnHide.value||m?K(_.$slots,"default",{key:0}):$("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Ce=we;const H=Q({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(R){const k=R,z=T(()=>{const{class:b,...M}=k;return M});return(b,M)=>(r(),I(e(Ce),ue({class:e(me)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",k.class)},z.value),{default:n(()=>[K(b.$slots,"default")]),_:3},16,["class"]))}}),Ue={class:"relative w-full p-6 mx-auto font-body bg-background text-foreground md:p-10 lg:max-w-7xl"},$e={class:"flex flex-col justify-between gap-4 mb-6 sm:flex-row sm:items-center"},Se={class:"flex items-center gap-2"},Le={class:"grid grid-cols-1 gap-6 mt-6 lg:grid-cols-12"},Pe={class:"space-y-6 lg:col-span-7"},Me={class:"flex items-center justify-between"},je={class:"flex items-center gap-2"},Ne={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ze={class:"space-y-2"},Ie={class:"space-y-2"},Ae={class:"space-y-2 sm:col-span-2"},Be={class:"space-y-3"},Re={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},he={class:"space-y-2"},De={class:"space-y-2"},Te={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Fe={class:"space-y-2"},qe={class:"space-y-2"},Oe={class:"space-y-2"},We={class:"space-y-2"},Ge={class:"grid grid-cols-1 gap-2 sm:grid-cols-3"},He={class:"space-y-2"},Qe={class:"flex items-center justify-between"},Je={class:"space-y-2"},Ke={class:"flex justify-end sm:col-span-5"},Xe={class:"space-y-3"},Ye={class:"flex items-center justify-between"},Ze={class:"grid grid-cols-1 gap-4"},es={class:"grid grid-cols-1 gap-3 sm:grid-cols-5"},ss={class:"space-y-2 sm:col-span-2"},ls={class:"space-y-2 sm:col-span-3"},ts={class:"space-y-2 sm:col-span-4"},ns={class:"flex justify-end sm:col-span-5"},os={class:"space-y-3"},as={class:"flex items-center justify-between"},is={class:"grid grid-cols-1 gap-4"},ds={class:"grid grid-cols-1 gap-3 sm:grid-cols-5"},rs={class:"space-y-2 sm:col-span-3"},us={class:"space-y-2 sm:col-span-2"},ms={class:"flex justify-end sm:col-span-5"},ps={class:"flex items-center justify-between"},cs={class:"flex items-center gap-2"},fs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},gs={class:"space-y-2"},vs={class:"space-y-2"},ys={class:"space-y-2 sm:col-span-2"},_s={class:"space-y-2 sm:col-span-2"},Vs={class:"space-y-3"},bs={class:"flex items-center justify-between"},Es={class:"space-y-4"},xs={class:"grid grid-cols-1 gap-3 sm:grid-cols-4"},ks={class:"space-y-2"},ws={class:"space-y-2"},Cs={class:"space-y-2 sm:col-span-2"},Us={class:"flex justify-end mt-2"},$s={class:"flex items-center justify-between"},Ss={class:"mt-2 space-y-3"},Ls={class:"grid grid-cols-1 gap-3 sm:grid-cols-6"},Ps={class:"space-y-2 sm:col-span-2"},Ms={class:"space-y-2 sm:col-span-2"},js={class:"space-y-2 sm:col-span-2"},Ns={class:"space-y-2 sm:col-span-3"},zs={class:"space-y-2 sm:col-span-3"},Is={class:"space-y-2 sm:col-span-4"},As={class:"flex items-end justify-end sm:col-span-2"},Bs={class:"flex items-center justify-between"},Rs={class:"lg:col-span-5"},hs={class:"space-y-4"},Ds={class:"text-2xl font-heading text-primary"},Ts={class:"text-sm text-muted-foreground"},Fs={class:"relative w-full h-48 overflow-hidden rounded-xl"},qs=["src","alt"],Os={key:1,class:"flex items-center justify-center w-full h-full bg-muted"},Ws={class:"text-sm leading-relaxed"},Gs={class:"text-sm"},Hs={key:0},Qs={key:1},Js={key:2},Ks={key:0,class:"pt-2"},Xs={class:"grid grid-cols-1 gap-3 sm:grid-cols-2"},Ys={class:"flex items-center gap-3"},Zs=["src"],el={class:"font-medium"},sl={class:"text-xs text-muted-foreground line-clamp-2"},ll={key:1,class:"pt-2"},tl={class:"grid grid-cols-3 gap-2"},nl=["src"],ol={key:0,class:"space-y-2"},al={class:"text-xl font-heading text-primary"},il={class:"text-xs text-muted-foreground"},dl={class:"grid grid-cols-1 gap-3"},rl={class:"font-semibold"},ul={class:"grid grid-cols-1 gap-2 mt-2 sm:grid-cols-2"},ml={class:"text-sm"},pl={key:0,class:"text-sm font-semibold text-primary"},$l=Q({__name:"index",setup(R){const k=pe(),{fetchCollection:z}=ce(),b=fe(),M=B(!1),F=B(!1),S=B(null),j=B(null),_=W({isPremiumMember:!0,previewLang:"en"}),a=W({name:"",slogan:"",banner:[""],descriptionEn:"",descriptionEs:"",contact:{phone:"",email:"",website:""},address:{street:"",city:"",state:"",postalCode:""},socialLinks:[],services:[],gallery:[]}),m=W({titleEn:"Menu",titleEs:"Menú",descriptionEn:"",descriptionEs:"",items:[]});function A(y,s){y.splice(s,1)}function X(){a.services.push({title:"",description:"",image:""})}function Y(){m.items.push({nameEn:"",nameEs:"",image:"",items:[]})}function Z(y){const s={nameEn:"",nameEs:"",descriptionEn:"",descriptionEs:"",image:"",price:""};m.items[y].items.push(s)}function ee(y,s){m.items[y].items.splice(s,1)}async function J(){var y,s,o,p,d;M.value=!0;try{const x=String(k.params.slug||""),V=x?`slug = "${x}"`:"",h=await z("businesses",1,1,V,"-created");if((y=h==null?void 0:h.items)!=null&&y.length){const u=h.items[0];S.value=u.id,Object.assign(a,{name:u.name??"",slogan:F.value??u.description_SP?u.description_SP:u.descriptionEn,banner:Array.isArray(u.banner)&&u.banner.length?u.banner:[""],descriptionEn:u.descriptionEn??"",descriptionEs:u.descriptionEs??"",contact:{phone:((s=u==null?void 0:u.contact)==null?void 0:s.phone)??"",email:((o=u==null?void 0:u.contact)==null?void 0:o.email)??"",website:((p=u==null?void 0:u.contact)==null?void 0:p.website)??""},address:u.address??{street:"",city:"",state:"",postalCode:""},socialLinks:u.socialLinks??[],services:u.services??[],gallery:u.gallery??[]}),_.isPremiumMember=!!u.isPremiumMember}const ie=x?`slug = "${x}"`:"",D=await z("menus",1,1,ie,"-created","business");if((d=D==null?void 0:D.items)!=null&&d.length){const u=D.items[0];j.value=u.id,Object.assign(m,{titleEn:u.titleEn??"Menu",titleEs:u.titleEs??"Menú",descriptionEn:u.descriptionEn??"",descriptionEs:u.descriptionEs??"",items:u.items??[]})}}catch(x){console.error(x)}finally{M.value=!1}}async function q(){if(!S.value)return se();const y={name:a.name,slogan:a.slogan,banner:a.banner.filter(Boolean),descriptionEn:a.descriptionEn,descriptionEs:a.descriptionEs,contact:a.contact,address:a.address,socialLinks:a.socialLinks,services:a.services,gallery:a.gallery,isPremiumMember:_.isPremiumMember};await b.collection("businesses").update(S.value,y)}async function se(){const y={slug:k.params.slug||void 0,...a,isPremiumMember:_.isPremiumMember},s=await b.collection("businesses").create(y);S.value=s.id}async function O(){if(!j.value)return le();const y={titleEn:m.titleEn,titleEs:m.titleEs,descriptionEn:m.descriptionEn,descriptionEs:m.descriptionEs,items:m.items};await b.collection("menus").update(j.value,y)}async function le(){const y={slug:k.params.slug||void 0,...m},s=await b.collection("menus").create(y);j.value=s.id}async function te(){await Promise.all([q(),O()])}async function ne(){await Promise.all([q(),O()])}function oe(){Object.assign(a,{name:"",slogan:"",banner:[""],descriptionEn:"",descriptionEs:"",contact:{phone:"",email:"",website:""},address:{street:"",city:"",state:"",postalCode:""},socialLinks:[],services:[],gallery:[]})}function ae(){Object.assign(m,{titleEn:"Menu",titleEs:"Menú",descriptionEn:"",descriptionEs:"",items:[]})}return J(),(y,s)=>(r(),f("div",Ue,[t("div",$e,[s[20]||(s[20]=t("div",null,[t("h1",{class:"text-3xl font-heading sm:text-4xl"},"Admin Panel"),t("p",{class:"text-muted-foreground"},"Edit your landing page and menu using your site's design system.")],-1)),t("div",Se,[l(e(v),{variant:"outline",onClick:J},{default:n(()=>s[18]||(s[18]=[i("Reload")])),_:1}),l(e(v),{class:"bg-primary text-primary-foreground",onClick:ne},{default:n(()=>s[19]||(s[19]=[i("Save All")])),_:1})])]),l(e(_e),{"default-value":"landing",class:"w-full"},{default:n(()=>[l(e(Ve),{class:"grid w-full grid-cols-3 sm:max-w-md"},{default:n(()=>[l(e(G),{value:"landing"},{default:n(()=>s[21]||(s[21]=[i("Landing Page")])),_:1}),l(e(G),{value:"menu"},{default:n(()=>s[22]||(s[22]=[i("Menu")])),_:1}),l(e(G),{value:"settings"},{default:n(()=>s[23]||(s[23]=[i("Settings")])),_:1})]),_:1}),t("div",Le,[t("div",Pe,[l(e(H),{value:"landing"},{default:n(()=>[l(e(L),{class:"p-6 space-y-6"},{default:n(()=>[t("div",Me,[l(e(P),null,{default:n(()=>s[24]||(s[24]=[i("Landing Content")])),_:1}),t("div",je,[l(e(v),{variant:"secondary",size:"sm",onClick:oe},{default:n(()=>s[25]||(s[25]=[i("Reset")])),_:1}),l(e(v),{size:"sm",onClick:q},{default:n(()=>s[26]||(s[26]=[i("Save")])),_:1})])]),l(e(U)),t("div",Ne,[t("div",ze,[l(e(c),{for:"name"},{default:n(()=>s[27]||(s[27]=[i("Business Name")])),_:1}),l(e(g),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(a).name=o),placeholder:"e.g. La Terraza"},null,8,["modelValue"])]),t("div",Ie,[l(e(c),{for:"slogan"},{default:n(()=>s[28]||(s[28]=[i("Slogan")])),_:1}),l(e(g),{id:"slogan",modelValue:e(a).slogan,"onUpdate:modelValue":s[1]||(s[1]=o=>e(a).slogan=o),placeholder:"e.g. Fresh · Local · Friendly"},null,8,["modelValue"])]),t("div",Ae,[l(e(c),null,{default:n(()=>s[29]||(s[29]=[i("Banner Images (URLs)")])),_:1}),t("div",Be,[(r(!0),f(w,null,C(e(a).banner,(o,p)=>(r(),f("div",{key:`banner-${p}`,class:"flex items-center gap-2"},[l(e(g),{modelValue:e(a).banner[p],"onUpdate:modelValue":d=>e(a).banner[p]=d,placeholder:"https://..."},null,8,["modelValue","onUpdate:modelValue"]),l(e(v),{variant:"outline",size:"icon",onClick:d=>A(e(a).banner,p)},{default:n(()=>[l(e(ke),{class:"w-4 h-4"})]),_:2},1032,["onClick"])]))),128)),l(e(v),{variant:"secondary",size:"sm",onClick:s[2]||(s[2]=o=>e(a).banner.push(""))},{default:n(()=>s[30]||(s[30]=[i("Add Banner")])),_:1})])])]),l(e(U)),t("div",Re,[t("div",he,[l(e(c),{for:"about-en"},{default:n(()=>s[31]||(s[31]=[i("About (EN)")])),_:1}),l(e(N),{id:"about-en",modelValue:e(a).descriptionEn,"onUpdate:modelValue":s[3]||(s[3]=o=>e(a).descriptionEn=o),rows:"4"},null,8,["modelValue"])]),t("div",De,[l(e(c),{for:"about-es"},{default:n(()=>s[32]||(s[32]=[i("Acerca (ES)")])),_:1}),l(e(N),{id:"about-es",modelValue:e(a).descriptionEs,"onUpdate:modelValue":s[4]||(s[4]=o=>e(a).descriptionEs=o),rows:"4"},null,8,["modelValue"])])]),t("div",Te,[t("div",Fe,[l(e(c),{for:"phone"},{default:n(()=>s[33]||(s[33]=[i("Phone")])),_:1}),l(e(g),{id:"phone",modelValue:e(a).contact.phone,"onUpdate:modelValue":s[5]||(s[5]=o=>e(a).contact.phone=o),placeholder:"+52 6xx xxx xxxx"},null,8,["modelValue"])]),t("div",qe,[l(e(c),{for:"email"},{default:n(()=>s[34]||(s[34]=[i("Email")])),_:1}),l(e(g),{id:"email",modelValue:e(a).contact.email,"onUpdate:modelValue":s[6]||(s[6]=o=>e(a).contact.email=o),type:"email",placeholder:"hello@example.com"},null,8,["modelValue"])]),t("div",Oe,[l(e(c),{for:"website"},{default:n(()=>s[35]||(s[35]=[i("Website")])),_:1}),l(e(g),{id:"website",modelValue:e(a).contact.website,"onUpdate:modelValue":s[7]||(s[7]=o=>e(a).contact.website=o),type:"url",placeholder:"https://"},null,8,["modelValue"])])]),t("div",We,[l(e(c),null,{default:n(()=>s[36]||(s[36]=[i("Address")])),_:1}),l(e(g),{modelValue:e(a).address.street,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).address.street=o),placeholder:"Street",class:"mb-2"},null,8,["modelValue"]),t("div",Ge,[l(e(g),{modelValue:e(a).address.city,"onUpdate:modelValue":s[9]||(s[9]=o=>e(a).address.city=o),placeholder:"City"},null,8,["modelValue"]),l(e(g),{modelValue:e(a).address.state,"onUpdate:modelValue":s[10]||(s[10]=o=>e(a).address.state=o),placeholder:"State"},null,8,["modelValue"]),l(e(g),{modelValue:e(a).address.postalCode,"onUpdate:modelValue":s[11]||(s[11]=o=>e(a).address.postalCode=o),placeholder:"Postal Code"},null,8,["modelValue"])])]),t("div",He,[t("div",Qe,[l(e(c),null,{default:n(()=>s[37]||(s[37]=[i("Social Links")])),_:1}),l(e(v),{variant:"secondary",size:"sm",onClick:s[12]||(s[12]=o=>e(a).socialLinks.push({label:"",url:""}))},{default:n(()=>s[38]||(s[38]=[i("Add Link")])),_:1})]),t("div",Je,[(r(!0),f(w,null,C(e(a).socialLinks,(o,p)=>(r(),f("div",{key:`soc-${p}`,class:"grid items-center grid-cols-1 gap-2 sm:grid-cols-5"},[l(e(g),{class:"sm:col-span-2",modelValue:o.label,"onUpdate:modelValue":d=>o.label=d,placeholder:"Label (e.g. Instagram)"},null,8,["modelValue","onUpdate:modelValue"]),l(e(g),{class:"sm:col-span-3",modelValue:o.url,"onUpdate:modelValue":d=>o.url=d,placeholder:"https://instagram.com/..."},null,8,["modelValue","onUpdate:modelValue"]),t("div",Ke,[l(e(v),{variant:"outline",size:"sm",onClick:d=>A(e(a).socialLinks,p)},{default:n(()=>s[39]||(s[39]=[i("Remove")])),_:2},1032,["onClick"])])]))),128))])]),l(e(U)),t("div",Xe,[t("div",Ye,[l(e(P),null,{default:n(()=>s[40]||(s[40]=[i("Services")])),_:1}),l(e(v),{variant:"secondary",size:"sm",onClick:X},{default:n(()=>s[41]||(s[41]=[i("Add Service")])),_:1})]),t("div",Ze,[(r(!0),f(w,null,C(e(a).services,(o,p)=>(r(),I(e(L),{key:`svc-${p}`,class:"p-4"},{default:n(()=>[t("div",es,[t("div",ss,[l(e(c),null,{default:n(()=>s[42]||(s[42]=[i("Title")])),_:1}),l(e(g),{modelValue:o.title,"onUpdate:modelValue":d=>o.title=d},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ls,[l(e(c),null,{default:n(()=>s[43]||(s[43]=[i("Description")])),_:1}),l(e(N),{modelValue:o.description,"onUpdate:modelValue":d=>o.description=d,rows:"3"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ts,[l(e(c),null,{default:n(()=>s[44]||(s[44]=[i("Image URL")])),_:1}),l(e(g),{modelValue:o.image,"onUpdate:modelValue":d=>o.image=d,placeholder:"https://..."},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ns,[l(e(v),{variant:"destructive",size:"sm",onClick:d=>A(e(a).services,p)},{default:n(()=>s[45]||(s[45]=[i("Delete")])),_:2},1032,["onClick"])])])]),_:2},1024))),128))])]),l(e(U)),t("div",os,[t("div",as,[l(e(P),null,{default:n(()=>s[46]||(s[46]=[i("Gallery")])),_:1}),l(e(v),{variant:"secondary",size:"sm",onClick:s[13]||(s[13]=o=>e(a).gallery.push({url:"",alt:""}))},{default:n(()=>s[47]||(s[47]=[i("Add Image")])),_:1})]),t("div",is,[(r(!0),f(w,null,C(e(a).gallery,(o,p)=>(r(),I(e(L),{key:`g-${p}`,class:"p-4"},{default:n(()=>[t("div",ds,[t("div",rs,[l(e(c),null,{default:n(()=>s[48]||(s[48]=[i("Image URL")])),_:1}),l(e(g),{modelValue:o.url,"onUpdate:modelValue":d=>o.url=d,placeholder:"https://..."},null,8,["modelValue","onUpdate:modelValue"])]),t("div",us,[l(e(c),null,{default:n(()=>s[49]||(s[49]=[i("Alt")])),_:1}),l(e(g),{modelValue:o.alt,"onUpdate:modelValue":d=>o.alt=d,placeholder:"Describe the image"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ms,[l(e(v),{variant:"outline",size:"sm",onClick:d=>A(e(a).gallery,p)},{default:n(()=>s[50]||(s[50]=[i("Remove")])),_:2},1032,["onClick"])])])]),_:2},1024))),128))])])]),_:1})]),_:1}),l(e(H),{value:"menu"},{default:n(()=>[l(e(L),{class:"p-6 space-y-6"},{default:n(()=>[t("div",ps,[l(e(P),null,{default:n(()=>s[51]||(s[51]=[i("Menu")])),_:1}),t("div",cs,[l(e(v),{variant:"secondary",size:"sm",onClick:ae},{default:n(()=>s[52]||(s[52]=[i("Reset")])),_:1}),l(e(v),{size:"sm",onClick:O},{default:n(()=>s[53]||(s[53]=[i("Save")])),_:1})])]),l(e(U)),t("div",fs,[t("div",gs,[l(e(c),{for:"menutitle-en"},{default:n(()=>s[54]||(s[54]=[i("Title (EN)")])),_:1}),l(e(g),{id:"menutitle-en",modelValue:e(m).titleEn,"onUpdate:modelValue":s[14]||(s[14]=o=>e(m).titleEn=o)},null,8,["modelValue"])]),t("div",vs,[l(e(c),{for:"menutitle-es"},{default:n(()=>s[55]||(s[55]=[i("Título (ES)")])),_:1}),l(e(g),{id:"menutitle-es",modelValue:e(m).titleEs,"onUpdate:modelValue":s[15]||(s[15]=o=>e(m).titleEs=o)},null,8,["modelValue"])]),t("div",ys,[l(e(c),{for:"menudesc-en"},{default:n(()=>s[56]||(s[56]=[i("Description (EN)")])),_:1}),l(e(N),{id:"menudesc-en",modelValue:e(m).descriptionEn,"onUpdate:modelValue":s[16]||(s[16]=o=>e(m).descriptionEn=o),rows:"3"},null,8,["modelValue"])]),t("div",_s,[l(e(c),{for:"menudesc-es"},{default:n(()=>s[57]||(s[57]=[i("Descripción (ES)")])),_:1}),l(e(N),{id:"menudesc-es",modelValue:e(m).descriptionEs,"onUpdate:modelValue":s[17]||(s[17]=o=>e(m).descriptionEs=o),rows:"3"},null,8,["modelValue"])])]),l(e(U)),t("div",Vs,[t("div",bs,[l(e(P),null,{default:n(()=>s[58]||(s[58]=[i("Categories")])),_:1}),l(e(v),{variant:"secondary",size:"sm",onClick:Y},{default:n(()=>s[59]||(s[59]=[i("Add Category")])),_:1})]),t("div",Es,[(r(!0),f(w,null,C(e(m).items,(o,p)=>(r(),I(e(L),{key:`cat-${p}`,class:"p-4"},{default:n(()=>[t("div",xs,[t("div",ks,[l(e(c),null,{default:n(()=>s[60]||(s[60]=[i("Name EN")])),_:1}),l(e(g),{modelValue:o.nameEn,"onUpdate:modelValue":d=>o.nameEn=d},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ws,[l(e(c),null,{default:n(()=>s[61]||(s[61]=[i("Nombre ES")])),_:1}),l(e(g),{modelValue:o.nameEs,"onUpdate:modelValue":d=>o.nameEs=d},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Cs,[l(e(c),null,{default:n(()=>s[62]||(s[62]=[i("Category Image (optional)")])),_:1}),l(e(g),{modelValue:o.image,"onUpdate:modelValue":d=>o.image=d,placeholder:"https://..."},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",Us,[l(e(v),{variant:"outline",size:"sm",onClick:d=>A(e(m).items,p)},{default:n(()=>s[63]||(s[63]=[i("Remove Category")])),_:2},1032,["onClick"])]),l(e(U),{class:"my-4"}),t("div",$s,[l(e(P),{class:"text-base"},{default:n(()=>s[64]||(s[64]=[i("Items")])),_:1}),l(e(v),{variant:"secondary",size:"sm",onClick:d=>Z(p)},{default:n(()=>s[65]||(s[65]=[i("Add Item")])),_:2},1032,["onClick"])]),t("div",Ss,[(r(!0),f(w,null,C(o.items,(d,x)=>(r(),I(e(L),{key:`item-${p}-${x}`,class:"p-3"},{default:n(()=>[t("div",Ls,[t("div",Ps,[l(e(c),null,{default:n(()=>s[66]||(s[66]=[i("Name EN")])),_:1}),l(e(g),{modelValue:d.nameEn,"onUpdate:modelValue":V=>d.nameEn=V},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Ms,[l(e(c),null,{default:n(()=>s[67]||(s[67]=[i("Nombre ES")])),_:1}),l(e(g),{modelValue:d.nameEs,"onUpdate:modelValue":V=>d.nameEs=V},null,8,["modelValue","onUpdate:modelValue"])]),t("div",js,[l(e(c),null,{default:n(()=>s[68]||(s[68]=[i("Price")])),_:1}),l(e(g),{modelValue:d.price,"onUpdate:modelValue":V=>d.price=V,modelModifiers:{number:!0},type:"number",step:"0.01",min:"0"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Ns,[l(e(c),null,{default:n(()=>s[69]||(s[69]=[i("Description EN")])),_:1}),l(e(N),{modelValue:d.descriptionEn,"onUpdate:modelValue":V=>d.descriptionEn=V,rows:"2"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",zs,[l(e(c),null,{default:n(()=>s[70]||(s[70]=[i("Descripción ES")])),_:1}),l(e(N),{modelValue:d.descriptionEs,"onUpdate:modelValue":V=>d.descriptionEs=V,rows:"2"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Is,[l(e(c),null,{default:n(()=>s[71]||(s[71]=[i("Image URL")])),_:1}),l(e(g),{modelValue:d.image,"onUpdate:modelValue":V=>d.image=V,placeholder:"https://..."},null,8,["modelValue","onUpdate:modelValue"])]),t("div",As,[l(e(v),{variant:"destructive",size:"sm",onClick:V=>ee(p,x)},{default:n(()=>s[72]||(s[72]=[i("Delete")])),_:2},1032,["onClick"])])])]),_:2},1024))),128))])]),_:2},1024))),128))])])]),_:1})]),_:1}),l(e(H),{value:"settings"},{default:n(()=>[l(e(L),{class:"p-6 space-y-6"},{default:n(()=>[t("div",Bs,[l(e(P),null,{default:n(()=>s[73]||(s[73]=[i("Settings")])),_:1}),l(e(v),{size:"sm",onClick:te},{default:n(()=>s[74]||(s[74]=[i("Save")])),_:1})]),l(e(U))]),_:1})]),_:1})]),t("div",Rs,[l(e(L),{class:"sticky top-6 p-4 md:p-6 space-y-6 max-h-[calc(100vh-4rem)] overflow-auto"},{default:n(()=>[l(e(P),{class:"text-lg"},{default:n(()=>s[75]||(s[75]=[i("Live Preview")])),_:1}),l(e(U)),t("section",hs,[t("h2",Ds,E(e(a).name||"Business Name"),1),t("p",Ts,E(e(a).slogan),1),t("div",Fs,[e(a).banner[0]?(r(),f("img",{key:0,src:e(a).banner[0],alt:`${e(a).name} banner`,class:"object-cover w-full h-full"},null,8,qs)):(r(),f("div",Os,"Banner preview"))]),t("p",Ws,E(e(_).previewLang==="es"?e(a).descriptionEs:e(a).descriptionEn),1),t("div",Gs,[e(a).contact.phone?(r(),f("p",Hs,[s[76]||(s[76]=t("b",null,"Phone:",-1)),i(" "+E(e(a).contact.phone),1)])):$("",!0),e(a).contact.email?(r(),f("p",Qs,[s[77]||(s[77]=t("b",null,"Email:",-1)),i(" "+E(e(a).contact.email),1)])):$("",!0),e(a).contact.website?(r(),f("p",Js,[s[78]||(s[78]=t("b",null,"Website:",-1)),i(" "+E(e(a).contact.website),1)])):$("",!0)]),e(_).isPremiumMember&&e(a).services.length?(r(),f("div",Ks,[s[79]||(s[79]=t("p",{class:"font-semibold"},"Services",-1)),t("ul",Xs,[(r(!0),f(w,null,C(e(a).services,(o,p)=>(r(),f("li",{key:`pv-svc-${p}`,class:"p-3 border rounded-lg border-border"},[t("div",Ys,[o.image?(r(),f("img",{key:0,src:o.image,class:"object-cover w-12 h-12 rounded"},null,8,Zs)):$("",!0),t("div",null,[t("p",el,E(o.title),1),t("p",sl,E(o.description),1)])])]))),128))])])):$("",!0),e(_).isPremiumMember&&e(a).gallery.length?(r(),f("div",ll,[s[80]||(s[80]=t("p",{class:"font-semibold"},"Gallery",-1)),t("div",tl,[(r(!0),f(w,null,C(e(a).gallery.slice(0,6),(o,p)=>(r(),f("img",{key:`pv-g-${p}`,src:o.url,class:"object-cover w-full h-20 rounded"},null,8,nl))),128))])])):$("",!0)]),l(e(U)),e(m).items.length?(r(),f("section",ol,[t("h3",al,E(e(_).previewLang==="es"?e(m).titleEs:e(m).titleEn),1),t("p",il,E(e(_).previewLang==="es"?e(m).descriptionEs:e(m).descriptionEn),1),t("ul",dl,[(r(!0),f(w,null,C(e(m).items,(o,p)=>(r(),f("li",{key:`pv-cat-${p}`,class:"p-3 border rounded-lg border-border"},[t("p",rl,E(e(_).previewLang==="es"?o.nameEs:o.nameEn),1),t("ul",ul,[(r(!0),f(w,null,C(o.items,(d,x)=>(r(),f("li",{key:`pv-item-${p}-${x}`,class:"flex items-start justify-between gap-2"},[t("span",ml,E(e(_).previewLang==="es"?d.nameEs:d.nameEn),1),Number.isFinite(+d.price)?(r(),f("span",pl,E(Number(d.price).toLocaleString(void 0,{style:"currency",currency:"USD"})),1)):$("",!0)]))),128))])]))),128))])])):$("",!0)]),_:1})])])]),_:1})]))}});export{$l as default};
