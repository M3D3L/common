import{_ as x}from"./v4TlqnB3.js";import{m as w}from"./X9ZGjjJ4.js";import{l as g,r as v,W as k,k as E,f as B,a4 as I,o as C,m as O,w as m,a as c,b as V,u as l,n as f,_ as z}from"./BN0B7Lbi.js";const j={class:"absolute inset-0 z-0 overflow-hidden"},A=["src"],M=g({__name:"VideoBackground",props:{video:{type:String,required:!0},observeElement:{type:Object,default:null}},emits:["video-active"],setup(r,{emit:_}){const u=r,y=_,i=v(null),o=v(!1),n=k({y:0,opacity:1});let t=null;const b=a=>{a.forEach(s=>{var e,d;s.isIntersecting?(o.value=!0,n.y=0,n.opacity=1,(e=i.value)==null||e.play().catch(h=>console.log("Autoplay prevented:",h))):(o.value=!1,n.y=-200,n.opacity=0,(d=i.value)==null||d.pause()),y("video-active",o.value)})},p=()=>{var s,e;t&&t.disconnect();const a=u.observeElement||((e=(s=i.value)==null?void 0:s.parentElement)==null?void 0:e.parentElement);a&&(t=new IntersectionObserver(b,{threshold:.15,rootMargin:"0px 0px -100px 0px"}),t.observe(a))};return E(()=>{p()}),B(()=>u.observeElement,()=>{p()},{immediate:!0}),I(()=>{t&&t.disconnect()}),(a,s)=>{const e=x;return C(),O(e,null,{default:m(()=>[c("div",j,[V(l(w).div,{class:"w-full h-full will-change-transform",initial:{y:200,opacity:0},animate:l(n),viewport:{amount:.4,once:!1}},{default:m(()=>[c("video",{ref_key:"videoRef",ref:i,loading:"lazy",muted:"",loop:"",playsinline:"",role:"presentation",class:f(["object-cover w-full h-full transition-opacity duration-500",{"opacity-0":!l(o)}]),src:r.video},null,10,A),c("div",{class:f(["absolute inset-0 transition-opacity duration-500 bg-black/40",{"opacity-0":!l(o)}])},null,2)]),_:1},8,["animate"])])]),_:1})}}}),S=z(M,[["__scopeId","data-v-2633c0e5"]]);export{S as _};
