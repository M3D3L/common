import{_ as S}from"./DggF4A72.js";import{m as _}from"./Cx3-yYNP.js";import{l as h,r as u,W as V,k as B,f as C,Z as E,o as x,m as I,w as p,a as f,b as m,u as t,n as y,_ as z,c as A,p as O,D as R}from"./DWH1ACXH.js";const j={class:"absolute inset-0 z-0 overflow-hidden"},$=["src"],D=h({__name:"VideoBackground",props:{video:{type:String,required:!0},observeElement:{type:Object,default:null}},emits:["video-active"],setup(e,{emit:d}){const n=e,v=d,o=u(null),l=u(!1),i=V({y:0,opacity:1});let r=null;const w=s=>{s.forEach(c=>{var a,g;c.isIntersecting?(l.value=!0,i.y=0,i.opacity=1,(a=o.value)==null||a.play().catch(k=>console.log("Autoplay prevented:",k))):(l.value=!1,i.y=-200,i.opacity=0,(g=o.value)==null||g.pause()),v("video-active",l.value)})},b=()=>{var c,a;r&&r.disconnect();const s=n.observeElement||((a=(c=o.value)==null?void 0:c.parentElement)==null?void 0:a.parentElement);s&&(r=new IntersectionObserver(w,{threshold:.15,rootMargin:"0px 0px -100px 0px"}),r.observe(s))};return B(()=>{b()}),C(()=>n.observeElement,()=>{b()},{immediate:!0}),E(()=>{r&&r.disconnect()}),(s,c)=>{const a=S;return x(),I(a,null,{default:p(()=>[f("div",j,[m(t(_).div,{class:"w-full h-full will-change-transform",initial:{y:200,opacity:0},animate:t(i),viewport:{amount:.4,once:!1}},{default:p(()=>[f("video",{ref_key:"videoRef",ref:o,loading:"lazy",muted:"",loop:"",playsinline:"",role:"presentation",class:y(["object-cover w-full h-full transition-opacity duration-500",{"opacity-0":!t(l)}]),src:e.video},null,10,$),f("div",{class:y(["absolute inset-0 transition-opacity duration-500 bg-black/40",{"opacity-0":!t(l)}])},null,2)]),_:1},8,["animate"])])]),_:1})}}}),M=z(D,[["__scopeId","data-v-2633c0e5"]]),N=["aria-label","aria-labelledby","aria-describedby","aria-live"],U=h({__name:"Video",props:{video:{type:String},title:{type:String,default:""},description:{type:String,default:""},h1:{type:Boolean,default:!1},hideDescription:{type:Boolean,default:!1},imgSrc:{type:String,default:""},padding:{type:String,default:"md:py-16 lg:py-24"}},setup(e){const d=u(null),n=u(!1),v=o=>{n.value=o};return(o,l)=>{const i=M;return x(),A("section",{class:y(["relative flex items-center justify-center w-full overflow-hidden text-foreground",[{"bg-cover bg-center":!t(n)},e.padding]]),ref_key:"heroRef",ref:d,"aria-label":"section for video background of a "+e.title+" and hero content","aria-labelledby":e.title,"aria-describedby":e.description,role:"region",tabindex:0,style:R({backgroundImage:t(n)?"none":"url("+e.video+")",backgroundSize:"cover",backgroundPosition:"center"}),"aria-live":t(n)?"polite":"off"},[m(i,{video:e.video,"observe-element":t(d),onVideoActive:v},null,8,["video","observe-element"]),m(t(_).div,{class:"z-10 w-full px-4 mx-auto lg:container rounded-2xl",initial:"hidden",whileInView:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}}},{default:p(()=>[O(o.$slots,"video-container-content")]),_:3})],14,N)}}});export{U as _};
