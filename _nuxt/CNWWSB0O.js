import{_ as U}from"./Dq1C4n6r.js";import{l as j,U as z,e as u,a0 as D,f as B,o as a,c as l,a as c,u as t,b as m,Q as E,R as F,q as _,m as q,w as H,ae as Q}from"./BN0B7Lbi.js";import{_ as W,a as G}from"./D5452n7Z.js";import{_ as J}from"./B0CpPXG2.js";import{u as K}from"./D-Ko8XmK.js";import{d as O}from"./DHmSh6yI.js";import{u as X}from"./xdM59Akf.js";import"./D_wO4cs_.js";import"./-fhrnqg4.js";import"./wtzRrliu.js";import"./7IX480Ah.js";import"./DF5oBwmz.js";import"./sGX1aMxe.js";import"./Bo3vZDjX.js";import"./DJUxloUB.js";import"./Ag6tYbTR.js";const Y={class:"w-full"},Z={class:"container pb-32 space-y-32"},ee={key:0},te={class:"flex flex-col gap-6 lg:flex-row"},oe={class:"grid w-full gap-6 md:grid-cols-2 lg:w-2/3"},se={key:0,class:"flex justify-center w-full mt-8 md:col-span-2"},ae={class:"w-full lg:w-1/3"},re=10,$e=j({__name:"index",async setup(ne){let n,d;const{fetchCollection:P}=K(),f=z(),p=u(()=>Number(f.query.page)||1),s=u(()=>{var o;return((o=f.params.type)==null?void 0:o.toLowerCase())??""}),i={properties:{index:0,query:"property"},rentals:{index:1,query:"rental"},lots:{index:2,query:"lot"}},e=u(()=>i[s.value]?O[i[s.value].index]:null),{data:S,pending:ie,error:le,refresh:A}=([n,d]=D(async()=>X(`properties-${s.value}-${p.value}`,async()=>{if(i[s.value]){const{query:o}=i[s.value];return await P("properties",p.value,re,`type="${o}"`,"-created","")}return null})),n=await n,d(),n);return B(S,o=>{e.value&&(e.value.properties=o)},{immediate:!0}),B([s,p],()=>{A()}),(o,ce)=>{var g,y,x,h,w,v,b,C,k,T,$;const N=U,R=Q,V=G,I=J,L=W;return a(),l("div",Y,[c("ul",Z,[((x=(y=(g=t(e))==null?void 0:g.properties)==null?void 0:y.items)==null?void 0:x.length)>0?(a(),l("li",ee,[m(N,{class:"pt-12 pb-16",title:t(e).title,description:t(e).sectionSubTitle,h1:!0},null,8,["title","description"]),c("div",te,[c("div",oe,[(a(!0),l(E,null,F((w=(h=t(e))==null?void 0:h.properties)==null?void 0:w.items,(r,M)=>(a(),q(V,{key:M,baseUrl:"/real-estate",removeSpacing:!0,content:r,buttonText:t(e).name},{extraButton:H(()=>[m(R,{text:"Send",message:`Hello, I would like more information on this ${r==null?void 0:r.type} : https://www.RelocateToSanCarlos.com/real-estate${r.slug}`},null,8,["message"])]),_:2},1032,["content","buttonText"]))),128)),((b=(v=t(e))==null?void 0:v.properties)==null?void 0:b.totalPages)>1?(a(),l("div",se,[m(I,{showPagination:!0,"total-pages":(k=(C=t(e))==null?void 0:C.properties)==null?void 0:k.totalPages},null,8,["total-pages"])])):_("",!0)]),c("div",ae,[t(e)?(a(),q(L,{key:0,title:t(e).sectionTitle,footerText:t(e).footerText,subtitle:t(e).subtitle,benefits:t(e).benefits,categories:t(e).categories,dataArray:($=(T=t(e))==null?void 0:T.properties)==null?void 0:$.items,class:"z-10 sticky-position top-28",mode:t(e).mode},null,8,["title","footerText","subtitle","benefits","categories","dataArray","mode"])):_("",!0)])])])):_("",!0)])])}}});export{$e as default};
